---
layout: post
title: Clean a virtual box server
date: 2015-03-06 09:38:53.000000000 -07:00
type: post
published: true
status: publish
categories: []
tags: []
meta:
  _edit_last: '19750133'
  _publicize_pending: '1'
  geo_public: '0'
  publicize_google_plus_url: https://plus.google.com/112288796262389970964/posts/Y748oxVQenc
  _wpas_done_5858344: '1'
  _publicize_done_external: a:1:{s:11:"google_plus";a:1:{s:21:"112288796262389970964";b:1;}}
  publicize_linkedin_url: https://www.linkedin.com/updates?discuss=&scope=35280723&stype=M&topic=5979620998071283712&type=U&a=1kge
  _wpas_done_1386473: '1'
  _wpas_skip_5858344: '1'
  _wpas_skip_1386473: '1'
author:
  login: jskarbek
  email: jtslear@gmail.com
  display_name: jskarbek
  first_name: ''
  last_name: ''
---
<p>So at the company I work for these days we utilize a nifty vagrant setup that utilizes virtualbox for test kitchen.  Sometimes when jobs fail we get lingering vboxes just kinda sit around eating space until we're alerted about it.  Here's a command that we use to roll through our various build users and removes things that probably shouldn't exist</p>
<pre>find /home/*/VirtualBox\ VMs/ -mtime +5 | sed 's/VirtualBox\sVMs/VirtualBox\ VMs/g' | xargs rm -rf
for vm in `VBoxManage list vms| awk '{print $2}' |sed 's/[{}]//g'`; do VBoxManage unregistervm $vm; done</pre>

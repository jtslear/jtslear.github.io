---
layout: post
title: tmux compile failure
date: 2013-03-22 18:22:43.000000000 -06:00
type: post
published: true
status: publish
categories: []
tags:
- libevent
- linux
- tmux
meta:
  _oembed_fce05972807aa4b7a9897a315a2886d3: "{{unknown}}"
  _edit_last: '19750133'
  _wpas_done_1386473: '1'
  _publicize_done_external: a:1:{s:8:"linkedin";a:1:{s:10:"Wf9JSr6aRc";b:1;}}
  _oembed_7c50bb1e2c74386f704b8854d47402d4: "{{unknown}}"
  _oembed_505dacd4de1e1d89123f01ce63da893c: "{{unknown}}"
  _oembed_b69485ecc5e410ae6600ec9ff1b34004: "{{unknown}}"
  _oembed_8373fc8eabc4c4ddaebc28a52cf43e12: "{{unknown}}"
  _oembed_9fa386311b149433fc002a4b4de319c0: "{{unknown}}"
  _oembed_4a5d4caaef82c9724b3aee3e346bbaa6: "{{unknown}}"
  _oembed_ba77ed39c23f32b004e4a2fe6e90cb3c: "{{unknown}}"
author:
  login: jskarbek
  email: jtslear@gmail.com
  display_name: jskarbek
  first_name: ''
  last_name: ''
---
<p>I love me some tmux.</p>
<p>However sometime between CentOS 5 and CentOS6 something broke and tmux no longer compiles.  Here's my error message:</p>
<pre>...
control.c: In function ‘control_callback’:
control.c:62: warning: implicit declaration of function ‘evbuffer_readln’
control.c:62: warning: nested extern declaration of ‘evbuffer_readln’
control.c:62: error: ‘EVBUFFER_EOL_LF’ undeclared (first use in this function)
control.c:62: error: (Each undeclared identifier is reported only once
control.c:62: error: for each function it appears in.)
control.c:71: warning: implicit declaration of function ‘time’
control.c:71: warning: nested extern declaration of ‘time’
make: *** [control.o] Error 1
[root@testcentos6 tmux-tmux-code]#</pre>
<p>After some googling people refer others to utilize the latest version of libevent. Well, I wasn't using the latest I was using whatever comes with the CentOS repos. So I decided to fix this by removing those:</p>
<pre>yum remove libevent libevent-devel libevent-headers</pre>
<p>Then compile my own libevent. I don't do anything out of the ordinary on this server so I'm not even sure if anything I use depends on it:</p>
<pre>wget https://github.com/downloads/libevent/libevent/libevent-2.0.21-stable.tar.gz
tar xf libevent-2.0.21-stable.tar.gz
cd libevent-2.0.21-stable</pre>
<p>Their README was very basic, so rock it:</p>
<pre>./configure
make
make install</pre>
<p>I then returned to my tmux source:</p>
<pre>cd /usr/local/src/tmux-1.7
make clean
make
make install</pre>
<p>Then another issue:</p>
<pre>[root@testcentos6 tmux-1.7]# tmux
tmux: error while loading shared libraries: libevent-2.0.so.5: cannot open shared object file: No such file or directory</pre>
<p>Luckily this error has been seen before.  After another quick google:</p>
<pre>ln -s /usr/local/lib/libevent-2.0.so.5 /usr/lib64/libevent-2.0.so.5
tmux</pre>
<p>AWESOME!</p>
<p>Resources:</p>
<ul>
<li><a title="Tmux at SourceForge" href="http://tmux.sourceforge.net/">http://tmux.sourceforge.net/</a></li>
<li><a title="Error Compiling tmux" href="http://sourceforge.net/mailarchive/message.php?msg_id=29996415">http://sourceforge.net/mailarchive/message.php?msg_id=29996415</a></li>
<li><a title="libevent" href="http://libevent.org/">http://libevent.org/</a></li>
<li><a title="libevent-2.0.so.5: cannot open shared object file: No such file or directory" href="http://www.nigeldunn.com/2011/12/11/libevent-2-0-so-5-cannot-open-shared-object-file-no-such-file-or-directory/">http://www.nigeldunn.com/2011/12/11/libevent-2-0-so-5-cannot-open-shared-object-file-no-such-file-or-directory/</a></li>
</ul>
